# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

# v2.1.4
## (2021-06-30)

* Delete CODEOWNERS [Lucian Buzzo]

## 2.1.3 - 2020-01-28

* Fix wrong pattern in .gitignore [Federico Fissore]
* Use node:alpine so tests take less on circleci [Federico Fissore]
* Install node deps with npm ci instead of npm i, so package-lock.json is used [Federico Fissore]

## 2.1.2 - 2020-01-15

* Fix try..catch block so that errors are sent back to the caller [Federico Fissore]
* Command dir in package.json is 'lib', not 'src' Update README.md [Federico Fissore]
* Prevent npm tests from being run on balenaCI [Giovanni Garufi]

## 2.1.1 - 2019-10-23

* Kubernetes: Add kubernetes support for deployment/config-store [Rich Bayliss]

## 2.1.0 - 2019-10-14

* âœ¨: Introducing template generators [Andreas Fitzek]

## 2.0.2 - 2019-09-23

* Update name to @balena/katapult [Lucian Buzzo]

## 2.0.1 - 2019-09-16

* Config-store: Add CompoundConfigStore [Rich Bayliss]

## 2.0.0 - 2019-09-16

* V2: Align codebase with latest Katapult spec [Rich Bayliss]
* Address review. Mostly typedocs, types and comments [Michael Angelos Simos]

## 1.7.0 - 2019-06-03

* Generators: Add generators required for BoB generation [Heds Simons]

## 1.6.1 - 2019-05-23

* EnvironmentEditor: Fix inquirer question type [Michael Angelos Simos]
* Package: Update asn1js pkijs pvutils [Michael Angelos Simos]
* Config-generator-plugins: Add tokenauth-keyid generator [Michael Angelos Simos]
* Config-generator-plugins: Add ec certificate generator [Michael Angelos Simos]
* Config-generator-plugins: Generate key pair [Michael Angelos Simos]
* Package: Add asn1js, pkijs, pvutils [Michael Angelos Simos]

## 1.6.0 - 2019-05-17

* EnvironmentEditor: Add factory method [Michael Angelos Simos]
* Init: Detect available deploy targets from deploy templates URI [Michael Angelos Simos]
* Address review [Michael Angelos Simos]
* Package: Add validator [Michael Angelos Simos]
* Add katapult init command [Michael Angelos Simos]
* Add environmentEditor [Michael Angelos Simos]
* Add environment.ts [Michael Angelos Simos]
* Add validators.ts [Michael Angelos Simos]
* Add tools.ts [Michael Angelos Simos]
* Package: Add inquirer and yamljs types [Michael Angelos Simos]

## 1.5.7 - 2019-05-13

* Lint and prettify [Michael Angelos Simos]
* Package: Add lint and prettier hooks [Michael Angelos Simos]
* Address review (readme and linting) [Michael Angelos Simos]
* Mark as private npm package, remove versionist [Michael Angelos Simos]
* Cli: Fix service-format flag, verbose mode [Michael Angelos Simos]
* Update packages [Michael Angelos Simos]
* Fix tests and lint issues [Michael Angelos Simos]
* Update and apply .editorconfig for .json files [Michael Angelos Simos]

## v1.5.6 - 2019-03-19

* Add PULL_REQUEST_TEMPLATE [Michael Angelos Simos]
* Add CODEOWNERS [Michael Angelos Simos]

## v1.5.5 - 2019-03-15

* Improve kubernetes config-store-adapter [Michael Angelos Simos]

## v1.5.4 - 2019-03-15

* Package: Update; fix vulnerabilities [Michael Angelos Simos]
* Package: Remove @balena/keyframe [Michael Angelos Simos]
* Utils: UnwrapKeyframe without @balena/keyframe [Michael Angelos Simos]
* Eslintrc: Update ecmaVersion to 2017 [Michael Angelos Simos]

## v1.5.3 - 2019-03-07

* Update to keyframe tool [Giovanni Garufi]

## v1.5.2 - 2019-02-05

* Fix: Only include the SAN extension if we are given SANs [Rich Bayliss]

## v1.5.1 - 2019-02-05

* Certs: Add extended key usage [Rich Bayliss]

## v1.5.0 - 2018-12-07

* Config-generator-plugins: Add rsa-tokenauth-keyid [Michael Angelos Simos]
* Package: Add base32-encode [Michael Angelos Simos]

## v1.4.2 - 2018-12-04

* Config-generator: Restore interactive mode [Michael Angelos Simos]

## v1.4.1 - 2018-11-30

* Fix: Fixing ssh tunnel generation for k8s deployment with bastion host [Andreas Fitzek]

## v1.4.0 - 2018-11-29

* Package: Publish and switch to caret [Michael Angelos Simos]
* Add support for ssh-tunnel [Michael Angelos Simos]
* Deploy-adapters: Refactor [Michael Angelos Simos]
* Package: Add tunnel-ssh [Michael Angelos Simos]

## v1.3.3 - 2018-11-23

* Address review; update wordings [Michael Angelos Simos]
* Switch to keyframe unwrap, from yml source [Michael Angelos Simos]
* Utils: Add unwrapKeyframe; extend: validateFilePath, validateFilePath [Michael Angelos Simos]
* Package: Add balena-universe-cli [Michael Angelos Simos]

## v1.3.2 - 2018-11-23

* Config-store: Add verbose info messages; Fix issue [Michael Angelos Simos]
* Cli: Update help [Michael Angelos Simos]
* README: Update [Michael Angelos Simos]

## v1.3.1 - 2018-11-23

* Refactor deploy-spec, linting format, etc [Michael Angelos Simos]

## v1.3.0 - 2018-11-23

* Switch to template literals [Michael Angelos Simos]
* Eslint: Align switch config with prettier default [Michael Angelos Simos]
* Generate-deploy: Default to interactive mode [Michael Angelos Simos]
* Deploy-spec: Resolve config-store diff calculation issue [Michael Angelos Simos]
* Config-generator: Refactor and add interactive mode [Michael Angelos Simos]
* Add config-validator index.js [Michael Angelos Simos]
* Cli: Improve help [Michael Angelos Simos]
* Package: Add inquirer [Michael Angelos Simos]
* Refactor deploy-spec, linting format, etc [Michael Angelos Simos]

## v1.2.0 - 2018-11-23

* Cli: Add generate command [Michael Angelos Simos]
* Kubernetes-config-store-adapter: Switch to kubernetes-client [Michael Angelos Simos]
* Package: Replace @kubernetes/client-node with kubernetes-client [Michael Angelos Simos]

## v1.1.0 - 2018-11-15

* Kubernetes-config-store-adapter: Switch to kubernetes-client [Michael Angelos Simos]
* Package: Replace @kubernetes/client-node with kubernetes-client [Michael Angelos Simos]
* Reformat with Prettier. Adress reviews. [Michael Angelos Simos]
* Refactor folder names [Michael Angelos Simos]
* Simplify error handling; Cleanup [Michael Angelos Simos]
* README: Remove outdated info [Michael Angelos Simos]
* ConfigAutoGenerator: Enable plugins [Michael Angelos Simos]
* ConfigAutoGenerator: Add generateECPrivateKey plugin [Michael Angelos Simos]
* ConfigAutoGenerator: Add generateDHParam plugin [Michael Angelos Simos]
* Package: Add dhparam [Michael Angelos Simos]
* ConfigAutoGenerator: Add base64decode filter plugin [Michael Angelos Simos]
* ConfigAutoGenerator: Add base64 filter plugin [Michael Angelos Simos]
* Deploy: Refine error msg [Michael Angelos Simos]
* Cli: Set default deploy-templates folder [Michael Angelos Simos]
* Compose: Propagate cli buildComponents to deploySpecAdapter [Michael Angelos Simos]
* Cli: Add build-path and service-format parameters [Michael Angelos Simos]
* Compose: Support buildpaths templating [Michael Angelos Simos]
* Utils: Add ensureRepoInPath [Michael Angelos Simos]
* Translate environment build-components to config parameters [Michael Angelos Simos]
* Cli: Set CWD/keyframe.json as default keyframe path [Michael Angelos Simos]
* Add keyframe parameter, for using a proto-keyframe [Michael Angelos Simos]
* Utils: Add loadFromJSONFileOrNull [Michael Angelos Simos]
* Cli: Refactor deploy command [Michael Angelos Simos]
* Package: Update kubernetes/client-node [Michael Angelos Simos]
* Handle special characters dotenv issues [Michael Angelos Simos]
* Add helper filter functions [Michael Angelos Simos]
* Update autoGeneratorPlugins list [Michael Angelos Simos]
* AutoGenerators: Refactor generateCert [Michael Angelos Simos]
* AutoGenerators: Refactor generateCACert [Michael Angelos Simos]
* AutoGenerators: Add generatePublicKey (from private) [Michael Angelos Simos]
* AutoGenerators: Add generatePrivateKey [Michael Angelos Simos]
* Config-manifest: Convert to DSL [Michael Angelos Simos]
* Refactor controller interfaces [Michael Angelos Simos]
* Add decoupled configManifest controller [Michael Angelos Simos]

## v1.0.0 - 2018-10-02

* Changelog: Reset [Michael Angelos Simos]
* Cli: Add informational messages; optional target [Michael Angelos Simos]
* Generate-deploy: Add target option [Michael Angelos Simos]
* AutoGenerator: Output generated certs base64 encoded [Michael Angelos Simos]
* Package: Set private [Michael Angelos Simos]
* Changelog: Update [Michael Angelos Simos]
* DeployAdapter: Add balena [Michael Angelos Simos]
* Package: Add simple-git [Michael Angelos Simos]
* DeploySpecTarget: Add balena [Michael Angelos Simos]
* AutoGenerator: Support formula references to config variables [Michael Angelos Simos]
* AutoGenerator: Add GENERATE_CHAIN [Michael Angelos Simos]
* AutoGenerator: Add GENERATE_CERT_CHAIN [Michael Angelos Simos]
* AutoGenerator: Add GENERATE_CERT [Michael Angelos Simos]
* AutoGenerator: Use first return item from autoGenerator plugins [Michael Angelos Simos]
* AutoGenerator: Add GENERATE_CA [Michael Angelos Simos]
* Package: Add node-forge [Michael Angelos Simos]
* ConfigAutoGenerator: Fix corner cases for trigering [Michael Angelos Simos]
* Cli: Add katapult deploy command [Michael Angelos Simos]
* DeployAdapter: Add kubernetes [Michael Angelos Simos]
* DeployAdapter: Add docker-compose [Michael Angelos Simos]
* Archive-store: Update archive-store structure [Michael Angelos Simos]
* EnvironmentValidation: Return environment object and validation output [Michael Angelos Simos]
* Mode: Add config generation mode in compose and cli [Michael Angelos Simos]
* Mode: Add config generation mode in kubernetes [Michael Angelos Simos]
* ConfigStoreAdapters: Decouple kubernetes configStoreAdapter [Michael Angelos Simos]
* ConfigStoreAdapters: Decouple compose configStoreAdapter [Michael Angelos Simos]
* ConfigAutoGenerator: Add configAutoGenerator in kubernetes [Michael Angelos Simos]
* ConfigAutoGenerator: Add configAutoGenerator [Michael Angelos Simos]
* ConfigAutoGenerator: Add formula plugins [Michael Angelos Simos]
* DeploySpecAdapter: Add namespace to kubernetes get config [Michael Angelos Simos]
* DeploySpecAdapters: Refactor [Michael Angelos Simos]
* DeploySpec: Add config validation for kubernetes adapter [Michael Angelos Simos]
* DeploySpec: Add config validation for kubernetes adapter [Michael Angelos Simos]
* ConfigValidator: Add config validator [Michael Angelos Simos]
* ConfigValidator: Add validation formats [Michael Angelos Simos]
* Package: Add jsonschema [Michael Angelos Simos]
* Utils: Add loadFromJSONFile [Michael Angelos Simos]
* K8s-config-store: Get config from multiple secrets [Michael Angelos Simos]
* Deploy-adapters: Add kubernetes config-store integration [Michael Angelos Simos]
* Package: Add @kubgernetes/client-node [Michael Angelos Simos]
* Deploy-adapters: Decouple compose read config [Michael Angelos Simos]
* Deploy-adapters: Add kubernetes, dotenv backed [Michael Angelos Simos]
* Cli: Add generate-deploy command [Michael Angelos Simos]
* DeploySpec: Use deploySpec adapters [Michael Angelos Simos]
* Deploy-adapters: Add docker-compose [Michael Angelos Simos]
* Utils: Add parse and validate environment configuration [Michael Angelos Simos]
* Tests: Fix lintRunner es6 [Michael Angelos Simos]
* Tests: Remove previous filespec DC tests [Michael Angelos Simos]
* Tests: Remove k8s test corresponding to previous fileset [Michael Angelos Simos]
* Package: Add dotenv [Michael Angelos Simos]
* Package: Add fs-extra [Michael Angelos Simos]
